(function(){"use strict";const K=new Date,ee=new Date;function W(e,n,t,r){function s(u){return e(u=arguments.length===0?new Date:new Date(+u)),u}return s.floor=u=>(e(u=new Date(+u)),u),s.ceil=u=>(e(u=new Date(u-1)),n(u,1),e(u),u),s.round=u=>{const i=s(u),g=s.ceil(u);return u-i<g-u?i:g},s.offset=(u,i)=>(n(u=new Date(+u),i==null?1:Math.floor(i)),u),s.range=(u,i,g)=>{const M=[];if(u=s.ceil(u),g=g==null?1:Math.floor(g),!(u<i)||!(g>0))return M;let Y;do M.push(Y=new Date(+u)),n(u,g),e(u);while(Y<u&&u<i);return M},s.filter=u=>W(i=>{if(i>=i)for(;e(i),!u(i);)i.setTime(i-1)},(i,g)=>{if(i>=i)if(g<0)for(;++g<=0;)for(;n(i,-1),!u(i););else for(;--g>=0;)for(;n(i,1),!u(i););}),t&&(s.count=(u,i)=>(K.setTime(+u),ee.setTime(+i),e(K),e(ee),Math.floor(t(K,ee))),s.every=u=>(u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?s.filter(r?i=>r(i)%u===0:i=>s.count(0,i)%u===0):s)),s}const ne=1e3*60,V=ne*60*24,se=V*7,z=W(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ne)/V,e=>e.getDate()-1);z.range;const te=W(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/V,e=>e.getUTCDate()-1);te.range,W(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/V,e=>Math.floor(e/V)).range;function O(e){return W(n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},(n,t)=>{n.setDate(n.getDate()+t*7)},(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*ne)/se)}const ie=O(0),B=O(1),Ae=O(2),Ne=O(3),_=O(4),Ie=O(5),Re=O(6);ie.range,B.range,Ae.range,Ne.range,_.range,Ie.range,Re.range;function A(e){return W(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t*7)},(n,t)=>(t-n)/se)}const fe=A(0),X=A(1),Ze=A(2),_e=A(3),j=A(4),je=A(5),Pe=A(6);fe.range,X.range,Ze.range,_e.range,j.range,je.range,Pe.range;const N=W(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n)},(e,n)=>n.getFullYear()-e.getFullYear(),e=>e.getFullYear());N.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:W(n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t*e)}),N.range;const I=W(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)},(e,n)=>n.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());I.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:W(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t*e)}),I.range;class Ee extends Map{constructor(n=[],t=qe){super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}});for(const[r,s]of n)this.set(r,s)}get(n){return super.get(le(this,n))}has(n){return super.has(le(this,n))}set(n,t){return super.set(Ve(this,n),t)}delete(n){return super.delete(Qe(this,n))}}function le({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):t}function Ve({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):(e.set(r,t),t)}function Qe({_intern:e,_key:n},t){const r=n(t);return e.has(r)&&(t=e.get(t),e.delete(r)),t}function qe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ge(e){return e}function me(e,...n){return Ge(e,ge,ge,n)}function Ge(e,n,t,r){return function s(u,i){if(i>=r.length)return t(u);const g=new Ee,M=r[i++];let Y=-1;for(const U of u){const c=M(U,++Y,u),y=g.get(c);y?y.push(U):g.set(c,[U])}for(const[U,c]of g)g.set(U,s(c,i));return n(g)}(e,0)}function re(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oe(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Q(e,n,t){return{y:e,m:n,d:t,H:0,M:0,S:0,L:0}}function Je(e){var n=e.dateTime,t=e.date,r=e.time,s=e.periods,u=e.days,i=e.shortDays,g=e.months,M=e.shortMonths,Y=q(s),U=G(s),c=q(u),y=G(u),k=q(i),p=G(i),C=q(g),x=G(g),L=q(M),$=G(M),v={a:yt,A:Tt,b:Ct,B:Ut,c:null,d:pe,e:pe,f:Un,g:Wn,G:Hn,H:yn,I:Tn,j:Cn,L:Me,m:pn,M:Mn,p:pt,q:Mt,Q:Fe,s:Ye,S:Dn,u:vn,U:wn,V:Sn,w:dn,W:Fn,x:null,X:null,y:Yn,Y:kn,Z:bn,"%":de},H={a:Dt,A:vt,b:wt,B:St,c:null,d:ve,e:ve,f:An,g:Qn,G:Gn,H:Ln,I:xn,j:On,L:we,m:Nn,M:In,p:dt,q:Ft,Q:Fe,s:Ye,S:Rn,u:Zn,U:_n,V:jn,w:Pn,W:En,x:null,X:null,y:Vn,Y:qn,Z:Jn,"%":de},E={a:st,A:it,b:ft,B:lt,c:gt,d:Ce,e:Ce,f:ln,g:Te,G:ye,H:Ue,I:Ue,j:an,L:fn,m:un,M:cn,p:ct,q:on,Q:mn,s:hn,S:sn,u:Ke,U:en,V:nn,w:Xe,W:tn,x:mt,X:ht,y:Te,Y:ye,Z:rn,"%":gn};v.x=S(t,v),v.X=S(r,v),v.c=S(n,v),H.x=S(t,H),H.X=S(r,H),H.c=S(n,H);function S(a,f){return function(m){var o=[],w=-1,h=0,d=a.length,F,Z,Oe;for(m instanceof Date||(m=new Date(+m));++w<d;)a.charCodeAt(w)===37&&(o.push(a.slice(h,w)),(Z=he[F=a.charAt(++w)])!=null?F=a.charAt(++w):Z=F==="e"?" ":"0",(Oe=f[F])&&(F=Oe(m,Z)),o.push(F),h=w+1);return o.push(a.slice(h,w)),o.join("")}}function R(a,f){return function(m){var o=Q(1900,void 0,1),w=b(o,a,m+="",0),h,d;if(w!=m.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(o.s*1e3+("L"in o?o.L:0));if(f&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+o.p*12),o.m===void 0&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(h=oe(Q(o.y,0,1)),d=h.getUTCDay(),h=d>4||d===0?X.ceil(h):X(h),h=te.offset(h,(o.V-1)*7),o.y=h.getUTCFullYear(),o.m=h.getUTCMonth(),o.d=h.getUTCDate()+(o.w+6)%7):(h=re(Q(o.y,0,1)),d=h.getDay(),h=d>4||d===0?B.ceil(h):B(h),h=z.offset(h,(o.V-1)*7),o.y=h.getFullYear(),o.m=h.getMonth(),o.d=h.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),d="Z"in o?oe(Q(o.y,0,1)).getUTCDay():re(Q(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+o.W*7-(d+5)%7:o.w+o.U*7-(d+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,oe(o)):re(o)}}function b(a,f,m,o){for(var w=0,h=f.length,d=m.length,F,Z;w<h;){if(o>=d)return-1;if(F=f.charCodeAt(w++),F===37){if(F=f.charAt(w++),Z=E[F in he?f.charAt(w++):F],!Z||(o=Z(a,m,o))<0)return-1}else if(F!=m.charCodeAt(o++))return-1}return o}function ct(a,f,m){var o=Y.exec(f.slice(m));return o?(a.p=U.get(o[0].toLowerCase()),m+o[0].length):-1}function st(a,f,m){var o=k.exec(f.slice(m));return o?(a.w=p.get(o[0].toLowerCase()),m+o[0].length):-1}function it(a,f,m){var o=c.exec(f.slice(m));return o?(a.w=y.get(o[0].toLowerCase()),m+o[0].length):-1}function ft(a,f,m){var o=L.exec(f.slice(m));return o?(a.m=$.get(o[0].toLowerCase()),m+o[0].length):-1}function lt(a,f,m){var o=C.exec(f.slice(m));return o?(a.m=x.get(o[0].toLowerCase()),m+o[0].length):-1}function gt(a,f,m){return b(a,n,f,m)}function mt(a,f,m){return b(a,t,f,m)}function ht(a,f,m){return b(a,r,f,m)}function yt(a){return i[a.getDay()]}function Tt(a){return u[a.getDay()]}function Ct(a){return M[a.getMonth()]}function Ut(a){return g[a.getMonth()]}function pt(a){return s[+(a.getHours()>=12)]}function Mt(a){return 1+~~(a.getMonth()/3)}function Dt(a){return i[a.getUTCDay()]}function vt(a){return u[a.getUTCDay()]}function wt(a){return M[a.getUTCMonth()]}function St(a){return g[a.getUTCMonth()]}function dt(a){return s[+(a.getUTCHours()>=12)]}function Ft(a){return 1+~~(a.getUTCMonth()/3)}return{format:function(a){var f=S(a+="",v);return f.toString=function(){return a},f},parse:function(a){var f=R(a+="",!1);return f.toString=function(){return a},f},utcFormat:function(a){var f=S(a+="",H);return f.toString=function(){return a},f},utcParse:function(a){var f=R(a+="",!0);return f.toString=function(){return a},f}}}var he={"-":"",_:" ",0:"0"},T=/^\s*\d+/,$e=/^%/,ze=/[\\^$*+?|[\]().{}]/g;function l(e,n,t){var r=e<0?"-":"",s=(r?-e:e)+"",u=s.length;return r+(u<t?new Array(t-u+1).join(n)+s:s)}function Be(e){return e.replace(ze,"\\$&")}function q(e){return new RegExp("^(?:"+e.map(Be).join("|")+")","i")}function G(e){return new Map(e.map((n,t)=>[n.toLowerCase(),t]))}function Xe(e,n,t){var r=T.exec(n.slice(t,t+1));return r?(e.w=+r[0],t+r[0].length):-1}function Ke(e,n,t){var r=T.exec(n.slice(t,t+1));return r?(e.u=+r[0],t+r[0].length):-1}function en(e,n,t){var r=T.exec(n.slice(t,t+2));return r?(e.U=+r[0],t+r[0].length):-1}function nn(e,n,t){var r=T.exec(n.slice(t,t+2));return r?(e.V=+r[0],t+r[0].length):-1}function tn(e,n,t){var r=T.exec(n.slice(t,t+2));return r?(e.W=+r[0],t+r[0].length):-1}function ye(e,n,t){var r=T.exec(n.slice(t,t+4));return r?(e.y=+r[0],t+r[0].length):-1}function Te(e,n,t){var r=T.exec(n.slice(t,t+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function rn(e,n,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(t,t+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function on(e,n,t){var r=T.exec(n.slice(t,t+1));return r?(e.q=r[0]*3-3,t+r[0].length):-1}function un(e,n,t){var r=T.exec(n.slice(t,t+2));return r?(e.m=r[0]-1,t+r[0].length):-1}function Ce(e,n,t){var r=T.exec(n.slice(t,t+2));return r?(e.d=+r[0],t+r[0].length):-1}function an(e,n,t){var r=T.exec(n.slice(t,t+3));return r?(e.m=0,e.d=+r[0],t+r[0].length):-1}function Ue(e,n,t){var r=T.exec(n.slice(t,t+2));return r?(e.H=+r[0],t+r[0].length):-1}function cn(e,n,t){var r=T.exec(n.slice(t,t+2));return r?(e.M=+r[0],t+r[0].length):-1}function sn(e,n,t){var r=T.exec(n.slice(t,t+2));return r?(e.S=+r[0],t+r[0].length):-1}function fn(e,n,t){var r=T.exec(n.slice(t,t+3));return r?(e.L=+r[0],t+r[0].length):-1}function ln(e,n,t){var r=T.exec(n.slice(t,t+6));return r?(e.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function gn(e,n,t){var r=$e.exec(n.slice(t,t+1));return r?t+r[0].length:-1}function mn(e,n,t){var r=T.exec(n.slice(t));return r?(e.Q=+r[0],t+r[0].length):-1}function hn(e,n,t){var r=T.exec(n.slice(t));return r?(e.s=+r[0],t+r[0].length):-1}function pe(e,n){return l(e.getDate(),n,2)}function yn(e,n){return l(e.getHours(),n,2)}function Tn(e,n){return l(e.getHours()%12||12,n,2)}function Cn(e,n){return l(1+z.count(N(e),e),n,3)}function Me(e,n){return l(e.getMilliseconds(),n,3)}function Un(e,n){return Me(e,n)+"000"}function pn(e,n){return l(e.getMonth()+1,n,2)}function Mn(e,n){return l(e.getMinutes(),n,2)}function Dn(e,n){return l(e.getSeconds(),n,2)}function vn(e){var n=e.getDay();return n===0?7:n}function wn(e,n){return l(ie.count(N(e)-1,e),n,2)}function De(e){var n=e.getDay();return n>=4||n===0?_(e):_.ceil(e)}function Sn(e,n){return e=De(e),l(_.count(N(e),e)+(N(e).getDay()===4),n,2)}function dn(e){return e.getDay()}function Fn(e,n){return l(B.count(N(e)-1,e),n,2)}function Yn(e,n){return l(e.getFullYear()%100,n,2)}function Wn(e,n){return e=De(e),l(e.getFullYear()%100,n,2)}function kn(e,n){return l(e.getFullYear()%1e4,n,4)}function Hn(e,n){var t=e.getDay();return e=t>=4||t===0?_(e):_.ceil(e),l(e.getFullYear()%1e4,n,4)}function bn(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+l(n/60|0,"0",2)+l(n%60,"0",2)}function ve(e,n){return l(e.getUTCDate(),n,2)}function Ln(e,n){return l(e.getUTCHours(),n,2)}function xn(e,n){return l(e.getUTCHours()%12||12,n,2)}function On(e,n){return l(1+te.count(I(e),e),n,3)}function we(e,n){return l(e.getUTCMilliseconds(),n,3)}function An(e,n){return we(e,n)+"000"}function Nn(e,n){return l(e.getUTCMonth()+1,n,2)}function In(e,n){return l(e.getUTCMinutes(),n,2)}function Rn(e,n){return l(e.getUTCSeconds(),n,2)}function Zn(e){var n=e.getUTCDay();return n===0?7:n}function _n(e,n){return l(fe.count(I(e)-1,e),n,2)}function Se(e){var n=e.getUTCDay();return n>=4||n===0?j(e):j.ceil(e)}function jn(e,n){return e=Se(e),l(j.count(I(e),e)+(I(e).getUTCDay()===4),n,2)}function Pn(e){return e.getUTCDay()}function En(e,n){return l(X.count(I(e)-1,e),n,2)}function Vn(e,n){return l(e.getUTCFullYear()%100,n,2)}function Qn(e,n){return e=Se(e),l(e.getUTCFullYear()%100,n,2)}function qn(e,n){return l(e.getUTCFullYear()%1e4,n,4)}function Gn(e,n){var t=e.getUTCDay();return e=t>=4||t===0?j(e):j.ceil(e),l(e.getUTCFullYear()%1e4,n,4)}function Jn(){return"+0000"}function de(){return"%"}function Fe(e){return+e}function Ye(e){return Math.floor(+e/1e3)}var P,We,ke;$n({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $n(e){return P=Je(e),We=P.format,ke=P.parse,P.utcFormat,P.utcParse,P}var He={},ue={},ae=34,J=10,ce=13;function be(e){return new Function("d","return {"+e.map(function(n,t){return JSON.stringify(n)+": d["+t+'] || ""'}).join(",")+"}")}function zn(e,n){var t=be(e);return function(r,s){return n(t(r),s,e)}}function Le(e){var n=Object.create(null),t=[];return e.forEach(function(r){for(var s in r)s in n||t.push(n[s]=s)}),t}function D(e,n){var t=e+"",r=t.length;return r<n?new Array(n-r+1).join(0)+t:t}function Bn(e){return e<0?"-"+D(-e,6):e>9999?"+"+D(e,6):D(e,4)}function Xn(e){var n=e.getUTCHours(),t=e.getUTCMinutes(),r=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Bn(e.getUTCFullYear())+"-"+D(e.getUTCMonth()+1,2)+"-"+D(e.getUTCDate(),2)+(s?"T"+D(n,2)+":"+D(t,2)+":"+D(r,2)+"."+D(s,3)+"Z":r?"T"+D(n,2)+":"+D(t,2)+":"+D(r,2)+"Z":t||n?"T"+D(n,2)+":"+D(t,2)+"Z":"")}function Kn(e){var n=new RegExp('["'+e+`
\r]`),t=e.charCodeAt(0);function r(c,y){var k,p,C=s(c,function(x,L){if(k)return k(x,L-1);p=x,k=y?zn(x,y):be(x)});return C.columns=p||[],C}function s(c,y){var k=[],p=c.length,C=0,x=0,L,$=p<=0,v=!1;c.charCodeAt(p-1)===J&&--p,c.charCodeAt(p-1)===ce&&--p;function H(){if($)return ue;if(v)return v=!1,He;var S,R=C,b;if(c.charCodeAt(R)===ae){for(;C++<p&&c.charCodeAt(C)!==ae||c.charCodeAt(++C)===ae;);return(S=C)>=p?$=!0:(b=c.charCodeAt(C++))===J?v=!0:b===ce&&(v=!0,c.charCodeAt(C)===J&&++C),c.slice(R+1,S-1).replace(/""/g,'"')}for(;C<p;){if((b=c.charCodeAt(S=C++))===J)v=!0;else if(b===ce)v=!0,c.charCodeAt(C)===J&&++C;else if(b!==t)continue;return c.slice(R,S)}return $=!0,c.slice(R,p)}for(;(L=H())!==ue;){for(var E=[];L!==He&&L!==ue;)E.push(L),L=H();y&&(E=y(E,x++))==null||k.push(E)}return k}function u(c,y){return c.map(function(k){return y.map(function(p){return U(k[p])}).join(e)})}function i(c,y){return y==null&&(y=Le(c)),[y.map(U).join(e)].concat(u(c,y)).join(`
`)}function g(c,y){return y==null&&(y=Le(c)),u(c,y).join(`
`)}function M(c){return c.map(Y).join(`
`)}function Y(c){return c.map(U).join(e)}function U(c){return c==null?"":c instanceof Date?Xn(c):n.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:s,format:i,formatBody:g,formatRows:M,formatRow:Y,formatValue:U}}var et=Kn(","),nt=et.parse;const xe="%m-%d-%Y",tt=ke(xe),rt=We(xe),ot="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports_us/",ut=({Province_State:e})=>e!="Diamond Princess"&&e!="Grand Princess"&&e!="Recovered",at=(async()=>{const e=tt("4-12-2020"),n=new Date,r=z.range(e,n).map(async g=>{const Y=await(await fetch(`${ot}${rt(g)}.csv`)).text(),U=nt(Y).filter(ut),c=me(U,y=>y.Province_State);return[g,c]}),u=(await Promise.all(r)).flatMap(([g,M])=>[...M].map(([Y,U])=>({date:g,...U[0]})));return me(u,g=>g.Province_State)})();onmessage=async()=>postMessage(await at)})();
